<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Exercise 7</title>
    <script>
        function f7(basket, prices) {
            let totalCost = 0;

            for (let product in basket) {
                if (prices[product]) {
                    totalCost += basket[product] * prices[product];
                } else {
                    alert(`Warning: No price found for ${product}`);
                }
            }
            return totalCost;
        }

        function doIt() {
            let basketInput = document.getElementById("basket").value;
            let pricesInput = document.getElementById("prices").value;

            try {
                let basket = JSON.parse(basketInput);
                let prices = JSON.parse(pricesInput);

                if (typeof basket !== "object" || typeof prices !== "object") {
                    throw new Error("Invalid input! Please enter valid JSON objects.");
                }

                let result = f7(basket, prices);
                alert(`Total cost of the basket: $${result.toFixed(2)}`);
            } catch (error) {
                alert("Error: " + error.message);
            }
        }
    </script>
</head>
<body>
    <h2>Basket Calculator</h2>
    <p>Enter your shopping basket (product: quantity) and price list (product: price).</p>

    <label for="basket" >Basket:</label>
    <textarea id="basket" placeholder='{"apple": 2, "banana": 3}' rows="3" cols="30"></textarea><br><br>

    <label for="prices">Prices:</label>
    <textarea id="prices" placeholder='{"apple": 0.5, "banana": 0.3}' rows="3" cols="30"></textarea><br><br>

    <button onclick="doIt()">Calculate</button>
</body>
</html>
